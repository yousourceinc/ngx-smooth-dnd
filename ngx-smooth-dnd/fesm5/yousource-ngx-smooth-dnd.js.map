{"version":3,"file":"yousource-ngx-smooth-dnd.js","sources":["ng://@yousource/ngx-smooth-dnd/src/draggable/draggable.component.ts","ng://@yousource/ngx-smooth-dnd/src/container/container.component.ts","ng://@yousource/ngx-smooth-dnd/src/ngx-smooth-dnd.module.ts","ng://@yousource/ngx-smooth-dnd/yousource-ngx-smooth-dnd.ts"],"sourcesContent":["import { Component, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { constants } from '@yousource/smooth-dnd';\r\nconst {\r\n  wrapperClass,\r\n  animationClass\r\n} = constants;\r\n\r\nconst constantClasses = {\r\n  [wrapperClass]: true,\r\n  [animationClass]: true,\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'smooth-dnd-draggable',\r\n  templateUrl: './draggable.component.html'\r\n})\r\nexport class DraggableComponent implements AfterViewInit {\r\n  @ViewChild('draggableWrapper') wrapper: ElementRef;\r\n  ngAfterViewInit() {\r\n    this.wrapper.nativeElement.parentNode.className = constants.wrapperClass;\r\n  }\r\n}\r\n","import { Component, ContentChildren, QueryList, AfterContentInit, ViewChild, ElementRef, AfterViewInit, Input, OnDestroy, OnInit, Output, EventEmitter, NgZone } from '@angular/core';\r\nimport { DraggableComponent } from '../draggable/draggable.component';\r\nimport { dropHandlers, smoothDnD, DropResult, ContainerOptions } from '@yousource/smooth-dnd';\r\n\r\nsmoothDnD.dropHandler = dropHandlers.reactDropHandler().handler;\r\nsmoothDnD.wrapChild = false;\r\n\r\nexport interface DragStartEndInfo {\r\n  isSource: boolean;\r\n  payload: any;\r\n  willAcceptDrop: boolean;\r\n}\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: \"smooth-dnd-container\",\r\n  templateUrl: \"./container.component.html\"\r\n})\r\nexport class ContainerComponent implements AfterViewInit, OnDestroy {\r\n  private container: any;\r\n  @ContentChildren(DraggableComponent)\r\n  draggables: QueryList<DraggableComponent>;\r\n  @ViewChild(\"container\") containerElementRef: ElementRef;\r\n\r\n  @Input(\"orientation\") orientation;\r\n  @Input(\"behaviour\") behaviour;\r\n  @Input(\"groupName\") groupName;\r\n  @Input(\"lockAxis\") lockAxis;\r\n  @Input(\"dragHandleSelector\") dragHandleSelector;\r\n  @Input(\"nonDragAreaSelector\") nonDragAreaSelector;\r\n  @Input(\"dragBeginDelay\") dragBeginDelay;\r\n  @Input(\"animationDuration\") animationDuration;\r\n  @Input(\"autoScrollEnabled\") autoScrollEnabled;\r\n  @Input(\"dragClass\") dragClass;\r\n  @Input(\"dropClass\") dropClass;\r\n  @Input(\"dropPlaceholder\") dropPlaceholder;\r\n  @Input(\"removeOnDropOut\") removeOnDropOut;\r\n  @Input(\"disableScrollOverlapDetection\") disableScrollOverlapDetection;\r\n  @Input(\"useTransformForGhost\") useTransformForGhost;\r\n\r\n  @Output() dragStart = new EventEmitter<DragStartEndInfo>();\r\n  @Output() dragEnd = new EventEmitter<DragStartEndInfo>();\r\n  @Output() drop = new EventEmitter<DropResult>();\r\n  @Output() dropReady = new EventEmitter<DropResult>();\r\n  @Input() getChildPayload: (index: number) => {};\r\n  @Input()\r\n  shouldAnimateDrop: (\r\n    sourceContainerOptions: ContainerOptions,\r\n    payload: any\r\n  ) => boolean;\r\n  @Input()\r\n  shouldAcceptDrop: (\r\n    sourceContainerOptions: ContainerOptions,\r\n    payload: any\r\n  ) => boolean;\r\n  @Output() dragEnter = new EventEmitter();\r\n  @Output() dragLeave = new EventEmitter();\r\n\r\n  @Input()\r\n  getGhostParent: () => HTMLElement;\r\n\r\n  constructor(private _ngZone: NgZone) { }\r\n\r\n  ngAfterViewInit() {\r\n    this.container = smoothDnD(\r\n      this.containerElementRef.nativeElement,\r\n      this.getOptions()\r\n    );\r\n\r\n    if(this.useTransformForGhost) this.container.useTransformForGhost = this.useTransformForGhost;\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.container.dispose();\r\n  }\r\n\r\n  private getOptions(): ContainerOptions {\r\n    const options: ContainerOptions = {};\r\n    if (this.orientation) options.orientation = this.orientation;\r\n    if (this.behaviour) options.behaviour = this.behaviour;\r\n    if (this.groupName) options.groupName = this.groupName;\r\n    if (this.lockAxis) options.lockAxis = this.lockAxis;\r\n    if (this.dragHandleSelector)\r\n      options.dragHandleSelector = this.dragHandleSelector;\r\n    if (this.nonDragAreaSelector)\r\n      options.nonDragAreaSelector = this.nonDragAreaSelector;\r\n    if (this.dragBeginDelay) options.dragBeginDelay = this.dragBeginDelay;\r\n    if (this.animationDuration)\r\n      options.animationDuration = this.animationDuration;\r\n    if (this.autoScrollEnabled)\r\n      options.autoScrollEnabled = this.autoScrollEnabled;\r\n    if (this.dragClass) options.dragClass = this.dragClass;\r\n    if (this.dropClass) options.dropClass = this.dropClass;\r\n    if (this.dropPlaceholder) options.dropPlaceholder = this.dropPlaceholder;\r\n    if (this.disableScrollOverlapDetection) options.disableScrollOverlapDetection = this.disableScrollOverlapDetection;\r\n    if (this.dragStart)\r\n      options.onDragStart = (info: DragStartEndInfo) => {\r\n        this.getNgZone(() => {\r\n          this.dragStart.emit(info);\r\n        });\r\n      };\r\n\r\n    if (this.dragEnd)\r\n      options.onDragEnd = (info: DragStartEndInfo) => {\r\n        this.getNgZone(() => {\r\n          this.dragEnd.emit(info);\r\n        });\r\n      };\r\n\r\n    if (this.drop)\r\n      options.onDrop = (dropResult: DropResult) => {\r\n        this.getNgZone(() => {\r\n          this.drop.emit(dropResult);\r\n        });\r\n      };\r\n\r\n    if (this.getChildPayload) options.getChildPayload = this.getChildPayload;\r\n    if (this.shouldAnimateDrop)\r\n      options.shouldAnimateDrop = this.shouldAnimateDrop;\r\n    if (this.shouldAcceptDrop) options.shouldAcceptDrop = this.shouldAcceptDrop;\r\n\r\n    if (this.dragEnter)\r\n      options.onDragEnter = () => this.getNgZone(() => this.dragEnter.emit());\r\n    if (this.dragLeave)\r\n      options.onDragLeave = () => this.getNgZone(() => this.dragLeave.emit());\r\n\r\n    if (this.dropReady)\r\n      options.onDropReady = (dropResult: DropResult) => {\r\n        this.getNgZone(() => {\r\n          this.dropReady.emit(dropResult);\r\n        });\r\n      };\r\n    \r\n    if (this.getGhostParent) options.getGhostParent = this.getGhostParent;\r\n\r\n    return options;\r\n  }\r\n\r\n  private getNgZone(clb) {\r\n    this._ngZone.run(() => {\r\n      clb();\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ContainerComponent } from './container/container.component';\r\nimport { DraggableComponent } from './draggable/draggable.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [ContainerComponent, DraggableComponent],\r\n  exports: [ContainerComponent, DraggableComponent]\r\n})\r\nexport class NgxSmoothDnDModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["tslib_1.__decorate"],"mappings":"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"}